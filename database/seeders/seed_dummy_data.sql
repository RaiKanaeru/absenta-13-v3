-- DUMMY DATA SEED SCHEDULER
-- Generated by Agent
-- Tables: mapel, ruang_kelas, jadwal, jadwal_guru, absensi_siswa, etc.

SET FOREIGN_KEY_CHECKS=0;

-- 1. MAPEL (Mata Pelajaran)
TRUNCATE TABLE `mapel`;
INSERT INTO `mapel` (`id_mapel`, `kode_mapel`, `nama_mapel`, `deskripsi`, `status`) VALUES
(1, 'MTK', 'Matematika', 'Matematika Umum', 'aktif'),
(2, 'BIN', 'Bahasa Indonesia', 'Wajib', 'aktif'),
(3, 'ING', 'Bahasa Inggris', 'Wajib', 'aktif'),
(4, 'PAI', 'Pendidikan Agama Islam', 'Wajib', 'aktif'),
(5, 'PKN', 'Pendidikan Kewarganegaraan', 'Wajib', 'aktif'),
(6, 'PJK', 'Penjaskes', 'Olahraga', 'aktif'),
(7, 'RPL-PROD', 'Produktif RPL', 'Pemrograman Web & Mobile', 'aktif'),
(8, 'TKJ-PROD', 'Produktif TKJ', 'Jaringan Dasar', 'aktif'),
(9, 'IPAS', 'IPAS', 'Ilmu Pengetahuan Alam & Sosial', 'aktif'),
(10, 'SJR', 'Sejarah', 'Sejarah Indonesia', 'aktif');

-- 2. RUANG KELAS
TRUNCATE TABLE `ruang_kelas`;
INSERT INTO `ruang_kelas` (`id_ruang`, `kode_ruang`, `nama_ruang`, `lokasi`, `kapasitas`, `status`) VALUES
(1, 'R.01', 'Ruang Teori 01', 'Lantai 1', 36, 'aktif'),
(2, 'R.02', 'Ruang Teori 02', 'Lantai 1', 36, 'aktif'),
(3, 'LAB.RPL1', 'Lab RPL 1', 'Lantai 2', 40, 'aktif'),
(4, 'LAB.TKJ1', 'Lab TKJ 1', 'Lantai 2', 40, 'aktif'),
(5, 'AULA', 'Aula Utama', 'Lantai Dasar', 200, 'aktif');

-- 3. JADWAL (Schedule for XI RPL 1 - Semester Gasal)
-- Asumsi: kelas_id=10 is XI RPL 1
TRUNCATE TABLE `jadwal`;
-- Senin
INSERT INTO `jadwal` (`id_jadwal`, `kelas_id`, `mapel_id`, `guru_id`, `ruang_id`, `hari`, `jam_ke`, `jam_mulai`, `jam_selesai`, `jenis_aktivitas`) VALUES
(1, 10, 4, 100, 1, 'Senin', 1, '07:15', '08:00', 'pelajaran'),
(2, 10, 4, 100, 1, 'Senin', 2, '08:00', '08:45', 'pelajaran'),
(3, 10, 1, 101, 1, 'Senin', 3, '08:45', '09:30', 'pelajaran'),
(4, 10, 1, 101, 1, 'Senin', 4, '09:30', '10:15', 'pelajaran'),
(5, 10, NULL, NULL, NULL, 'Senin', 5, '10:15', '10:30', 'istirahat'),
(6, 10, 7, 102, 3, 'Senin', 6, '10:30', '11:15', 'pelajaran'),
(7, 10, 7, 102, 3, 'Senin', 7, '11:15', '12:00', 'pelajaran');

-- Selasa
INSERT INTO `jadwal` (`id_jadwal`, `kelas_id`, `mapel_id`, `guru_id`, `ruang_id`, `hari`, `jam_ke`, `jam_mulai`, `jam_selesai`, `jenis_aktivitas`) VALUES
(8, 10, 7, 102, 3, 'Selasa', 1, '07:15', '08:00', 'pelajaran'),
(9, 10, 7, 102, 3, 'Selasa', 2, '08:00', '08:45', 'pelajaran'),
(10, 10, 7, 102, 3, 'Selasa', 3, '08:45', '09:30', 'pelajaran'),
(11, 10, 3, 103, 1, 'Selasa', 4, '09:30', '10:15', 'pelajaran'),
(12, 10, NULL, NULL, NULL, 'Selasa', 5, '10:15', '10:30', 'istirahat'),
(13, 10, 3, 103, 1, 'Selasa', 6, '10:30', '11:15', 'pelajaran');

-- 4. JADWAL_GURU (Linking gurus to schedules)
TRUNCATE TABLE `jadwal_guru`;
INSERT INTO `jadwal_guru` (`jadwal_id`, `guru_id`, `is_primary`) VALUES
(1, 100, 1), (2, 100, 1),
(3, 101, 1), (4, 101, 1),
(6, 102, 1), (7, 102, 1),
(8, 102, 1), (9, 102, 1), (10, 102, 1),
(11, 103, 1), (13, 103, 1);

-- 5. GURU AVAILABILITY
TRUNCATE TABLE `guru_availability`;
INSERT INTO `guru_availability` (`guru_id`, `hari`, `is_available`, `keterangan`) VALUES
(100, 'Senin', 1, 'OK'), (100, 'Selasa', 1, 'OK'), (100, 'Rabu', 0, 'MGMP'),
(101, 'Senin', 1, 'OK'), (101, 'Kamis', 1, 'OK');

-- 6. RUANG MAPEL BINDING
TRUNCATE TABLE `ruang_mapel_binding`;
INSERT INTO `ruang_mapel_binding` (`ruang_id`, `mapel_id`, `is_exclusive`) VALUES
(3, 7, 1), -- Lab RPL 1 for Produktif RPL
(4, 8, 1); -- Lab TKJ 1 for Produktif TKJ

-- 7. APP SETTINGS
TRUNCATE TABLE `app_settings`;
INSERT INTO `app_settings` (`setting_key`, `setting_value`, `category`, `description`) VALUES
('jam_masuk_siswa', '{"jam": "07:00", "toleransi_menit": 15}', 'absensi', 'Jadwal masuk default'),
('active_academic_year', '"2025/2026"', 'general', 'Tahun ajaran aktif'),
('school_identity', '{"nama": "SMKN 13 BANDUNG", "alamat": "Jl. Soekarno Hatta KM 10"}', 'general', 'Identitas Sekolah');

-- 8. ABSENSI SISWA (Dummy Logs)
-- siswa_id 100 had hadir on Monday (2025-11-24 based on dump creation, let's use a dynamic date if possible but SQL needs static usually. Using recent date.)
TRUNCATE TABLE `absensi_siswa`;
INSERT INTO `absensi_siswa` (`siswa_id`, `jadwal_id`, `tanggal`, `status`, `keterangan`, `waktu_absen`, `guru_pengabsen_id`) VALUES
(100, 1, CURRENT_DATE(), 'Hadir', 'Hadir Tepat Waktu', CONCAT(CURRENT_DATE(), ' 07:10:00'), 100),
(101, 1, CURRENT_DATE(), 'Hadir', 'Hadir', CONCAT(CURRENT_DATE(), ' 07:12:00'), 100),
(102, 1, CURRENT_DATE(), 'Sakit', 'Demam', CONCAT(CURRENT_DATE(), ' 07:00:00'), 100);

-- 9. PENGAJUAN BANDING
TRUNCATE TABLE `pengajuan_banding_absen`;
INSERT INTO `pengajuan_banding_absen` (`siswa_id`, `jadwal_id`, `tanggal_absen`, `status_asli`, `status_diajukan`, `alasan_banding`, `status_banding`) VALUES
(102, 1, CURRENT_DATE(), 'Alpa', 'Sakit', 'Saya sakit tapi lupa surat', 'pending');

-- 10. ABSENSI GURU
TRUNCATE TABLE `absensi_guru`;
INSERT INTO `absensi_guru` (`jadwal_id`, `guru_id`, `kelas_id`, `siswa_pencatat_id`, `tanggal`, `jam_ke`, `status`, `keterangan`) VALUES
(1, 100, 10, 100, CURRENT_DATE(), 1, 'Hadir', 'Hadir dikelas'),
(2, 100, 10, 100, CURRENT_DATE(), 2, 'Hadir', 'Lanjut materi');

-- 11. KOP LAPORAN
TRUNCATE TABLE `kop_laporan`;
INSERT INTO `kop_laporan` (`cakupan`, `kode_laporan`, `baris_teks`, `logo_kiri_url`, `logo_kanan_url`) VALUES
('global', NULL, '["PEMERINTAH DAERAH PROVINSI JAWA BARAT", "DINAS PENDIDIKAN", "SMKN 13 BANDUNG", "Jl. Soekarno-Hatta Km. 10 Bandung"]', 'logo_13.png', 'logo_jabar.png');

-- 12. MATA PELAJARAN (Legacy Support)
TRUNCATE TABLE `mata_pelajaran`;
INSERT INTO `mata_pelajaran` (`id`, `kode_mapel`, `nama_mapel`)
SELECT `id_mapel`, `kode_mapel`, `nama_mapel` FROM `mapel`;

SET FOREIGN_KEY_CHECKS=1;
